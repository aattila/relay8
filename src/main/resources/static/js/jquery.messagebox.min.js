!function(a){var b=0,c=1,d=2,e=4,f={danger:"fa-exclamation-triangle",warning:"fa-exclamation-circle",info:"fa-info-circle",primary:"fa-info",question:"fa-question-circle","default":"fa-info"},g='<div class="icon"></div><div class="title"></div><div class="text"></div><div class="toolbar"></div><div class="caption"></div>',h='<button class="btn btn-default btn-xs" data-type="%type%">%text%</button>';a.messageBox=function(i,j){defaults={autoClose:0,showAutoClose:!0,modal:!0,css:"css/messageBox.css",cbClose:!1,cbReady:!1,locale:{NO:"Non",YES:"Oui",CANCEL:"Annuler",OK:"Ok",textAutoClose:"Fermeture automatique dans %d sec"}};var k=this,l=a(i);k.settings={},k.init=function(){var b=a.extend({},defaults.locale,j.locale);k.settings=a.extend({},defaults,j),k.settings.locale=b,k.local_modal=k.settings.modal,a("head").append('<link rel="stylesheet" type="text/css" href="'+k.settings.css+'">');var c='<div class="messageBox"></div>';k.dom_msg=a.parseHTML(c),l.prepend(k.dom_msg);var d='<div class="messageBox-modal"></div>';k.modal=a.parseHTML(d),l.prepend(k.modal),a(k.dom_msg).on("click","button",function(){a(k.dom_msg).hide(),k.local_modal&&a(k.modal).hide(),k.settings.cbClose&&k.settings.cbClose(a(this).attr("data-type"))}),k.settings.cbReady&&k.settings.cbReady()};var m=function(b){b>0&&(k.delay=b,k.settings.showAutoClose&&a(k.dom_msg).find(".caption").show(),k.inter=setInterval(function(){var b=k.settings.locale.textAutoClose.replace(/%d/,k.delay);a(k.dom_msg).find(".caption").html(b),k.delay--,k.delay<0&&(clearInterval(k.inter),a(k.dom_msg).hide(),k.settings.modal&&a(k.modal).hide(),k.settings.cbClose&&k.settings.cbClose(-1))},1e3))},n=function(b,c,d,h,i){"undefined"==typeof h&&(h=k.settings.autoclose),"undefined"==typeof i&&(i=k.settings.modal),a(k.dom_msg).html(g),a(k.dom_msg).find(".icon").html('<i class="fa '+f[b]+'"></i>'),a(k.dom_msg).find(".title").html(c),a(k.dom_msg).find(".text").html(d),a(k.dom_msg).find(".toolbar").html(o(e));var j="";j="question"==b||"default"==b?" bg-white":" bg-"+b,a(k.dom_msg).removeClass().addClass("messageBox"+j+" text-"+b),q(),a(k.dom_msg).show(),k.settings.modal&&a(k.modal).show(),m(h)},o=function(a,f){var g="";return g=a==b?h.replace(/%type%/g,a).replace(/%text%/g,k.settings.locale.NO):a==c?h.replace(/%type%/g,a).replace(/%text%/g,k.settings.locale.YES):a==d?h.replace(/%type%/g,a).replace(/%text%/g,k.settings.locale.CANCEL):a==e?h.replace(/%type%/g,a).replace(/%text%/g,k.settings.locale.OK):h.replace(/%type%/g,a).replace(/%text%/g,f)},p=function(a){var b="";return a.forEach(function(a){b+=o(a["return"],a.text)+"&nbsp;"}),b},q=function(){a(k.dom_msg).css("top",(jQuery(window).outerHeight()-a(k.dom_msg).outerHeight())/2+jQuery(window).scrollTop()+"px").css("left",(jQuery(window).width()-a(k.dom_msg).outerWidth())/2+jQuery(window).scrollLeft()+"px")};k.danger=function(a,b,c,d){n("danger",a,b,c,d)},k.warning=function(a,b,c,d){n("warning",a,b,c,d)},k.info=function(a,b,c,d){n("info",a,b,c,d)},k["default"]=function(a,b,c,d){n("default",a,b,c,d)},k.question=function(b,c,d,e,f){n("question",b,c,e,f),a(k.dom_msg).find(".toolbar").empty();var g=p(d);a(k.dom_msg).find(".toolbar").html(g)},k.exclamation=function(b,c,d,e,g){n("default",b,c,e,g),a(k.dom_msg).find(".icon").html('<i class="fa '+f.danger+'"></i>'),a(k.dom_msg).find(".toolbar").empty();var h=p(d);a(k.dom_msg).find(".toolbar").html(h)},k.init()},a.fn.messageBox=function(b){return this.each(function(){if(void 0===a(this).data("messageBox")){var c=new a.messageBox(this,b);a(this).data("messageBox",c)}})}}(jQuery);